# 查询任务生成结果

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /task/openapi/outputs:
    post:
      summary: 查询任务生成结果
      deprecated: false
      description: ''
      tags:
        - 任务查询 & webhook
      parameters:
        - name: Host
          in: header
          description: ''
          required: true
          example: www.runninghub.cn
          schema:
            type: string
        - name: Authorization
          in: header
          description: ''
          example: Bearer 834a792dc64d419f85592f1e57145745
          schema:
            type: string
            default: Bearer 834a792dc64d419f85592f1e57145745
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/%E6%9F%A5%E8%AF%A2%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81%20Request
              description: ''
            example:
              apiKey: '{{apiKey}}'
              taskId: '1904152026220003329'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  msg:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        fileUrl:
                          type: string
                          description: 文件链接
                        fileType:
                          type: string
                          description: 文件类型
                        taskCostTime:
                          type: string
                          description: 任务消耗时长
                        nodeId:
                          type: string
                          description: 节点id
                        thirdPartyConsumeMoney:
                          type: 'null'
                          description: 第三方API平台消费金额
                        consumeMoney:
                          type: 'null'
                          description: 运行时长消费金额
                        consumeCoins:
                          type: string
                          description: 运行所耗用的RH币
                      x-apifox-orders:
                        - fileUrl
                        - fileType
                        - taskCostTime
                        - nodeId
                        - thirdPartyConsumeMoney
                        - consumeMoney
                        - consumeCoins
                      x-apifox-ignore-properties: []
                required:
                  - code
                  - msg
                  - data
                x-apifox-orders:
                  - code
                  - msg
                  - data
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: 成功示例
                  value:
                    code: 0
                    msg: success
                    data:
                      - fileUrl: >-
                          https://rh-images.xiaoyaoyou.com/de0db6f2564c8697b07df55a77f07be9/output/ComfyUI_00033_hpgko_1742822929.png
                        fileType: png
                        taskCostTime: '83'
                        nodeId: '12'
                        thirdPartyConsumeMoney: null
                        consumeMoney: null
                        consumeCoins: '17'
                '2':
                  summary: 任务失败会返失败原因
                  value:
                    code: 805
                    msg: APIKEY_TASK_STATUS_ERROR
                    data:
                      failedReason:
                        current_outputs: '{}'
                        exception_type: TypeError
                        node_name: SONIC_PreData
                        current_inputs: '{}'
                        traceback: >-
                          ["  File \"/workspace/ComfyUI/execution.py\", line
                          1208, in execute\n    output_data, output_ui,
                          has_subgraph, has_pending_tasks = await
                          get_output_data(prompt_id, unique_id, obj,
                          input_data_all, execution_block_cb=execution_block_cb,
                          pre_execute_cb=pre_execute_cb,
                          hidden_inputs=hidden_inputs)\n","  File
                          \"/workspace/ComfyUI/execution.py\", line 366, in
                          get_output_data\n    return_values = await
                          _async_map_node_over_list(prompt_id, unique_id, obj,
                          input_data_all, obj.FUNCTION, allow_interrupt=True,
                          execution_block_cb=execution_block_cb,
                          pre_execute_cb=pre_execute_cb,
                          hidden_inputs=hidden_inputs)\n","  File
                          \"/workspace/ComfyUI/execution.py\", line 340, in
                          _async_map_node_over_list\n    await
                          process_inputs(input_dict, i)\n","  File
                          \"/workspace/ComfyUI/execution.py\", line 328, in
                          process_inputs\n    result = f(**inputs)\n"]
                        node_id: '276'
                        exception_message: >-
                          SONIC_PreData.sampler_main() missing 2 required
                          positional arguments: 'clip_vision' and 'vae'
                '3':
                  summary: 运行中
                  value:
                    code: 804
                    msg: APIKEY_TASK_IS_RUNNING
                    data:
                      netWssUrl: >-
                        wss://www.runninghub.cn:443/ws/c_instance?c_host=192.168.100.225&c_port=87&clientId=4e795ac39568e37072e806ea84273bca&workflowId=1965412753127129089&Rh-Comfy-Auth=eyJ1c2VySWQiOiJmYmI4YzRmMDgyODAxY2UyMWJlYzdmNzA5NjJjMTFlMCIsInNpZ25FeHBpcmUiOjE3NjExMjUzODAwNDEsInRzIjoxNzYwNTIwNTgwMDQxLCJzaWduIjoiNDZmNjYzMDdkZWUyNWQwN2ZmNzE1Yjk2MGFlZTJiYmMifQ%3D%3D&target=http://myfj.runninghub.cn
                '4':
                  summary: 排队中
                  value:
                    code: 813
                    msg: APIKEY_TASK_IS_QUEUED
                    data: null
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 任务查询 & webhook
      x-apifox-status: released
      x-run-in-apifox: https://app.apifox.com/web/project/6103976/apis/api-276613253-run
components:
  schemas:
    查询任务状态 Request:
      type: object
      properties:
        apiKey:
          type: string
          description: ''
          examples:
            - '{{apiKey}}'
        taskId:
          type: string
          description: ''
          examples:
            - '1904152026220003329'
      x-apifox-orders:
        - apiKey
        - taskId
      required:
        - apiKey
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
  securitySchemes: {}
servers:
  - url: https://www.runninghub.cn
    description: runninghub.cn
security: []

```
